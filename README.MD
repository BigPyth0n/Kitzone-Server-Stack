
# ๐ KITZONE Server Setup v2.0

**๐ง Script: `main.sh` โ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ฺฉุงูู PostgreSQLุ Metabaseุ Grafanaุ Code-Serverุ pgAdminุ Portainerุ ู Nginx Proxy Manager ุฏุฑ ฺฉูุชุฑ ุงุฒ ฑฐ ุฏููู!**

---

## ๐ ูุนุฑู ู ูุฏู

`main.sh` ฺฉ ุงุณฺฉุฑูพุช ุจุด ุญุฑููโุง ู ุชูุงูโุฎูุฏฺฉุงุฑ ุงุณุช ฺฉู ุจุง ุงุฌุฑุง ุขูุ ุณุฑูุฑ ูููฺฉุณ ุดูุง ุจู ฺฉ ูุญุท ูุฏุฑุชููุฏ ุจุฑุง ูุฏุฑุช ุฏุงุฏูุ ุชูุณุนูุ ูุงูุชูุฑูฺฏ ู ุชุญูู ุชุจุฏู ูโุดูุฏ. ูุฏู ุงุฒ ุงู ูพุฑูฺูุ ุงุฑุงุฆู ฺฉ ููุทู ุดุฑูุน ุณุฑุน ู ุงูู ุจุฑุง ุชูโูุง ุชูุณุนูุ ุชุญูู ุฏุงุฏูุ DevOps ู ูุฏุฑุงู ูพุฑูฺู ุงุณุช.

---

## ๐ ุฌุฏูู ุณุฑูุณโูุง

| ุณุฑูุณ                 | ุชูุถุญ                                   | ูพูุฑุช ุฏุณุชุฑุณ     |
|----------------------|------------------------------------------|------------------|
| **PostgreSQL**       | ูพุงฺฏุงู ุฏุงุฏู SQL                         | `5432`           |
| **Metabase**         | ุฏุงุดุจูุฑุฏ ููุด ุชุฌุงุฑ                       | `3000`           |
| **Grafana**          | ูุงูุชูุฑูฺฏ ู ฺฏุฑุงู ุชุญูู                | `3001`           |
| **pgAdmin**          | ูุฏุฑุช PostgreSQL ุงุฒ ุทุฑู ุฑุงุจุท ูุจ      | `5050`           |
| **Code-Server**      | ูุญุท ุจุฑูุงููโููุณ VS Code ุฏุฑ ูุฑูุฑฺฏุฑ     | `8443` (HTTPS)   |
| **Portainer**        | ูุฏุฑุช ฺฏุฑุงูฺฉ ฺฉุงูุชูุฑูุง Docker        | `9000`           |
| **Nginx Proxy Manager** | ูุฏุฑุช ุฏุงูููโูุง ู SSL                 | `81` (Admin), `443`, `80` |

---

## ๐งฐ ูพุดโูุงุฒูุง

- Ubuntu 20.04 ุง 22.04 (ุชุณุช ุดุฏู)
- ุฏุณุชุฑุณ root ุง sudo
- ูพูุฑุชโูุง ุจุงุฒ: `80`, `443`, `5432`, `8443`, `3000`, `3001`, `5050`, `9000`, `81`
- ูุตุจ ุจูุฏู `curl` ู `bash`

---


## ๐ฆ ุฑุงูููุง ูุตุจ ูุฏูโุจูโูุฏู

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/your-username/kitzone-server-setup/main/main.sh)
```
๐ ุฏุฑ ุญู ุงุฌุฑุงุ ุงุฒ ุดูุง ูพุณูุฑุฏ PostgreSQL ู Code-Server ุฏุฑุฎูุงุณุช ูโุดูุฏ. ุฑูุฒูุง ุจู ุตูุฑุช ุงูู ุฏุฑ `/root/postgres-credentials.txt` ุฐุฎุฑู ูโุดููุฏ.


๐ก ุฏุฑ ุญู ุงุฌุฑุงุ ุงุฒ ุดูุง ูพุณูุฑุฏ PostgreSQL ู Code-Server ุฏุฑุฎูุงุณุช ูโุดูุฏ. ุฑูุฒูุง ุจู ุตูุฑุช ุงูู ุฏุฑ `/root/postgres-credentials.txt` ุฐุฎุฑู ูโุดููุฏ.

---

## ๐ ูพฺฉุฑุจูุฏ ฺฉุงูู SSL ุฏุฑ Nginx Proxy Manager

### ูุฑุญูู 1: ูุฑูุฏ ุจู NPM
- ุขุฏุฑุณ: `http://YOUR-IP:81`
- ุงูู ูพุดโูุฑุถ: `admin@example.com`
- ุฑูุฒ ูพุดโูุฑุถ: `changeme`

### ูุฑุญูู 2: ุงูุฒูุฏู ุฏุงููู
- ูุงุฑุฏ ุจุฎุด "Proxy Hosts" ุดูุฏ
- ุฏุงูููโุชุงู ุฑุง ุงุถุงูู ฺฉูุฏ ู ุจู ุขุฏุฑุณ ุฏุงุฎู ฺฉ ุงุฒ ุณุฑูุณโูุง (ูุซูุงู `http://code-server:8443`) ูุชุตู ฺฉูุฏ

### ูุฑุญูู 3: ูุนุงูโุณุงุฒ SSL
- ุฏุฑ ููฺฏุงู ุงูุฒูุฏูุ ุชฺฉ SSL ุฑุง ูุนุงู ฺฉุฑุฏู ู ุงุฒ **Let's Encrypt** ุงุณุชูุงุฏู ฺฉูุฏ
- ฺฏุฒูู "Force SSL" ู "HTTP/2 Support" ุฑุง ูุฒ ูุนุงู ููุงุฏ

### ูุฑุญูู 4: ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ
- ุฏุงููู ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ ู ฺฏูุงู ุงูู ุฑุง ุจุฑุฑุณ ููุงุฏ

---

## ๐ ูุฏุฑุช ู ุจุฑูุฒุฑุณุงู

### ูุดุงูุฏู ูุงฺฏ ฺฉุงูุชูุฑูุง:
```bash
docker logs -f code-server
```

### ุฑุณุชุงุฑุช ฺฉ ุณุฑูุณ:
```bash
docker restart grafana
```

### ุญุฐู ฺฉุงูู ููู ุณุฑูุณโูุง:
```bash
docker stop $(docker ps -q)
docker rm -f $(docker ps -aq)
```

### ุจุฑูุฒุฑุณุงู ุงูุฌโูุง:
```bash
docker pull linuxserver/code-server
docker pull postgres:15-alpine
# ู ุจู ููู ุชุฑุชุจ ุจูู...
```

---

## ๐ก๏ธ ุชูุตูโูุง ุงููุช

1. ุจูุงูุงุตูู ุฑูุฒูุง ูพุดโูุฑุถ (ูุซู NPM ู Code-Server) ุฑุง ุชุบุฑ ุฏูุฏ
2. ุงฺฏุฑ ุณุฑูุฑ ุฏุฑ ุงูุชุฑูุช ูุฑุงุฑ ุฏุงุฑุฏุ ุฏุณุชุฑุณ ุจู ูพูุฑุชโูุง ุญุณุงุณ ูุซู 5432 ุฑุง ูุญุฏูุฏ ฺฉูุฏ:
   ```bash
   sudo ufw allow from YOUR_IP to any port 5432
   ```
3. ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏ SSH ุจู ุฌุง ุฑูุฒ ุจุฑุง ูุฑูุฏ ุจู ุณุฑูุฑ
4. ูพุดุชุจุงูโฺฏุฑ ููุธู ุงุฒ ูุณุฑูุง ุฒุฑ:
   - `/opt/postgres/data`
   - `/opt/grafana/data`
   - `/opt/pgadmin/data`
   - `/opt/metabase/data`

---

## ๐งฉ ุนุจโุงุจ (Troubleshooting)

| ูุดฺฉู                         | ุฑุงูโุญู ูพุดููุงุฏ                                       |
|-----------------------------|--------------------------------------------------------|
| ูพูุฑุช ุจุงุฒ ูุณุช               | ุจุฑุฑุณ `ufw status` ู ุงุทููุงู ุงุฒ ุจุงุฒ ุจูุฏู ูพูุฑุช |
| ุณุฑูุณ ุจุงูุง ููโุขุฏ          | ุจุฑุฑุณ ุจุง `docker logs <container_name>`          |
| ุฑูุฒ PostgreSQL ุฑุง ฺฏู ฺฉุฑุฏู   | ุจุฑุฑุณ ูุงู `/root/postgres-credentials.txt`       |
| ุฏุณุชุฑุณ ุจู ุฏุงููู SSL ูุฏุงุฑู   | ูพูุฑุชโูุง 80 ู 443 ุจุงุฏ ุฏุฑ ูุงุฑูุงู ุจุงุฒ ุจุงุดูุฏ         |

---

## โ ุณูุงูุงุช ูุชุฏุงูู (FAQ)

### 1. ุขุง ูโุชูุงูู ุฏุงููู ุงุฎุชุตุงุต ูุตู ฺฉููุ
ุจููุ ฺฉุงูุณุช DNS ุฏุงููู ุฑุง ุจู IP ุณุฑูุฑ ุชูุธู ฺฉุฑุฏู ู ุฏุฑ Nginx Proxy Manager ุขู ุฑุง ุซุจุช ฺฉูุฏ.

### 2. ุขุง ูพุณูุฑุฏูุง ุฑูุฒูฺฏุงุฑโุดุฏูโุงูุฏุ
ุฎุฑุ ุฏุฑ ูุงู `/root/postgres-credentials.txt` ุจูโุตูุฑุช `chmod 600` ุฐุฎุฑู ุดุฏูโุงูุฏ. ุงุณุชูุงุฏู ุงุฒ Vault ุง GPG ูพุดููุงุฏ ูโุดูุฏ.

### 3. ฺุทูุฑ ูโุชูุงูู ุงู ุงุณฺฉุฑูพุช ุฑุง ูุฌุฏุฏ ุงุฌุฑุง ฺฉููุ
ูุญุฏูุฏุช ูุณุชุ ูู ุงุฌุฑุง ูุฌุฏุฏ ููฺฉู ุงุณุช ฺฉุงูุชูุฑูุง ูุนู ุฑุง ุจุงุฒููุณ ฺฉูุฏ. ุงุจุชุฏุง ฺฉุงูุชูุฑูุง ูุฏู ุฑุง ุญุฐู ฺฉูุฏ ุง ุงุณฺฉุฑูพุช ุฑุง ุจู ูุณุฎูโุง ูพุดุฑูุชูโุชุฑ ุงุฑุชูุงุก ุฏูุฏ.

---

## โค๏ธ ุจุง ุนุดู ุชูุณุท ุชู KitZone

> ูุฑ ุณูุงู ุง ูพุดููุงุฏ ุฏุงุฑุฏุ Issue ุง Pull Request ุจุณุงุฒุฏ ๐  
> ุจุฑุง ูุดุงุฑฺฉุชุ ูุทูุงู ูุงู `CONTRIBUTING.md` ุฑุง ูุทุงูุนู ฺฉูุฏ.
